"0","pa_api <- ""4CDE9DCD-A0AB-11EC-B9BF-42010A800003"""
"0",""
"0","json <- fromJSON(paste0("
"0","    ""https://api.purpleair.com/v1/sensors?api_key="","
"0","    pa_api,"
"0","    ""&fields=name,location_type,latitude,longitude,pm2.5_1week,temperature,humidity,primary_id_a,primary_key_a,secondary_id_a,secondary_key_a,primary_id_b,primary_key_b,secondary_id_b,secondary_key_b"""
"0","  ))"
"0",""
"0","all_sensors <- json %>% "
"0","  .$data %>% "
"0","  as.data.frame() %>% "
"0","  set_names(json$fields) %>% "
"0","  filter("
"0","    !is.na(longitude),"
"0","    !is.na(latitude)"
"0","  ) %>% "
"0","  st_as_sf(coords = c(""longitude"",""latitude""), crs = 4326) %>% "
"0","  mutate(location_type = ifelse("
"0","    location_type == 0,"
"0","    ""outside"","
"0","    ""inside"""
"0","  ))"
