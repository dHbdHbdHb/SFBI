"0","sunset_sensor_data_full <- readRDS(""sunset_sensor_data_full.rds"")"
"0","sunset_sensors <- sf_sensors %>% "
"0","  .[sunset_boundary,]"
"0",""
"0","sunset_sensors_clean <- sunset_sensor_data_full %>% "
"0","  mutate("
"0","    AQI = case_when("
"0","      PM25 <= 12 ~ "
"0","        paste(round(50/12*PM25), ""Good""),"
"0","      PM25 <= 35.4 ~ "
"0","        paste(round((100-51)/(35.4-12)*(PM25 - 12) + 51), ""Moderate""),"
"0","      PM25 <= 55.4 ~"
"0","        paste(round((150-101)/(55.4-35.4)*(PM25 - 35.4) + 101), ""Moderately Unhealthy""),"
"0","      PM25 <= 150.4 ~"
"0","        paste(round((200-151)/(150.4-55.4)*(PM25 - 55.4) + 151), ""Unhealthy""),"
"0","      PM25 <= 250.4 ~"
"0","        paste(round((300-201)/(250.4-150.4)*(PM25 - 150.4) + 201), ""Very Unhealthy""),"
"0","      TRUE ~ "
"0","        paste(round((500-301)/(500.4-250.5)*(PM25 - 250.5) + 301), ""Hazardous"")"
"0","    )"
"0","  ) %>% "
"0","  separate("
"0","    AQI,"
"0","    into = c(""AQI"",""AQI_Cat""),"
"0","    sep = "" "","
"0","    extra = ""merge"""
"0","  ) %>% "
"0","  mutate("
"0","    AQI = as.numeric(AQI),"
"0","    AQI_Cat = AQI_Cat %>% factor(levels = c(""Good"", ""Moderate"",""Moderately Unhealthy"",""Unhealthy"",""Very Unhealthy"",""Hazardous""))"
"0","  ) %>% "
"0","  left_join(sunset_sensors %>% select(geometry, sensor_index)) %>% "
"0","  filter(PM25 < 50) %>% "
"0","  st_as_sf()"
"1","Joining, by = ""sensor_index""
"
