"0","fc_cbg_aal <-"
"0","  fc_bldg_aal_by_year %>% "
"0","  pivot_wider("
"0","    names_from = year,"
"0","    values_from = damage"
"0","  ) %>% "
"0","  mutate( "
"0","    aal = (`2020`*5 + `2030`*10 + `2040`*10 + `2050`*5)/30"
"0","  ) %>% "
"0","  left_join("
"0","    fc_bldg_flooded_max %>%"
"0","      select(osm_id) %>% "
"0","      st_centroid()"
"0","  ) %>% "
"0","  st_as_sf() %>% "
"0","  st_join(fc_cbg) %>% "
"0","  st_set_geometry(NULL) %>% "
"0","  group_by(GEOID) %>% "
"0","  summarize("
"0","    aal = sum(aal),"
"0","    count = n()"
"0","  ) %>% "
"0","  left_join(fc_cbg) %>% "
"0","  st_as_sf() "
"2","Warning in st_centroid.sf(.) :"
"2","
 "
"2"," st_centroid assumes attributes are constant over geometries of x
"
"1","Joining, by = ""osm_id""
"
"1","Joining, by = ""GEOID""
"
